[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Table Contest 2024",
    "section": "",
    "text": "Data Preparation\n\n\nCode\nimport pandas as pd\nimport numpy as np\nfrom importlib_resources import files\n\n# load data\ndg_performance = pd.read_csv('https://raw.githubusercontent.com/steodose/Table-Contest-2024/master/dg_performance_2024.csv')\n\n# setting up img file paths for flag icons\n#flags_path = '/Users/Stephan/Desktop/Python/Table-Contest/flags/'\nflags_path = 'https://raw.githubusercontent.com/steodose/Table-Contest-2024/master/flags/'\n\n# function to replace numeric wins with trophy emojis\ndef replace_with_emojis(x):\n    return '🏆' * int(x) if x &gt; 0 else ''\n\n\n#### Data preparation ####\nselected_columns = [\n    'country','player_name', 'tour', 'wins', 'x_wins', 'putt_true', 'arg_true', \n    'app_true', 'ott_true', 't2g_true', 'total_true'\n]\n\n\ndg_clean = dg_performance[selected_columns].replace(-9999, 0) # replace LIV values with 0 values for formatting purposes\ndg_clean['player_name'] = dg_clean['player_name'].apply(lambda name: ' '.join(name.split(', ')[::-1])) # fix player naming conventions\n\n# Creating the 'logo' column with the HTML image tag\ndg_clean['country'] = '&lt;img height=30 src=\"' + flags_path + dg_clean['country'] + '.png\"&gt;&lt;/img&gt;'\n\n# apply the emoji function to the 'wins' column before creating the GT table\ndg_clean.loc[:, 'wins'] = dg_clean['wins'].apply(lambda x: '🏆' * int(x) if pd.notna(x) and x &gt; 0 else '')\n\n\ndg_top20 = dg_clean.head(20) # cut off at Top 20\ndg_top20.insert(0, 'rank', range(1, 21)) # adding a new column 'rank' which is a simple index + 1 (since index starts at 0)\n\n\n\n\nGenerate table using great_tables\n\n\nCode\nfrom great_tables import GT, md, html\n\n# # Displaying the top 20 in the terminal\n# GT(dg_top20)\n\n#### ---------- Make GT table ------------- ####\ntable = GT(dg_top20)\ntable = table.tab_header(\n    title=md(\"**Scottie Scheffler's Dominance**\"),\n    subtitle=\"Evaluating 2024 performance among top professional golfers using Data Golf's true strokes-gained and expected wins (xWins) metrics. Data as of June 9, 2024.\"\n    )\ntable = table.tab_source_note(\n    source_note=\"Strokes-Gained (SG) is a measure of a player's performance relative to the field average. Putt: Putting, ATG: Around the Green, App: Approach, OTT: Off-the-Tee, TTG: Tee-to-Green\"\n    )\ntable = table.tab_source_note(\n    source_note=md(\"**Source:** Data Golf | **Table:** Stephan Teodosescu (@steodosescu)\")\n    )\n# table = table.fmt_image(\n#     columns='country', \n#     path=flags_path, \n#     file_pattern='{}.png'  # {} will be replaced by the country code\n# )\n# table = table.fmt_nanoplot(\n#     columns= \"total_true\",\n#     plot_type=\"bar\"\n#     )\ntable = table.cols_label(\n        rank = \"Rank\",\n        country = \"Country\",\n        player_name = \"Player\",\n        tour= \"Tour\",\n        wins = 'Wins', \n        x_wins = 'xWins', \n        putt_true = 'Putt SG', \n        arg_true = 'ATG SG',\n        app_true = 'App SG', \n        ott_true = 'OTT SG', \n    t2g_true = 'TTG SG', \n    total_true = 'Total SG'\n    )\ntable = table.tab_spanner(label = md('**Strokes Gained**'),\n    columns = [\"putt_true\", \"arg_true\", \"app_true\", \"ott_true\", \"t2g_true\", \"total_true\"]\n    )\ntable = table.fmt_number(\n    columns=['putt_true', 'arg_true', 'app_true', 'ott_true', 't2g_true', 'total_true'],\n    decimals=2\n    )\ntable = table.fmt_number(\n    columns=[\"x_wins\"],\n    decimals=1\n    )\ntable = table.cols_width(\n    cases={\n            \"wins\": \"150px\"\n        }\n    )\n# table = table.fmt_number(\n#     columns=[\"wins\"],\n#     decimals=0\n#     )\ntable = table.data_color(\n        columns=\"x_wins\",\n        palette=[\"white\", \"blue\"],\n        domain=[0,8]\n    )\ntable = table.data_color(\n        columns=['putt_true', 'arg_true', 'app_true', 'ott_true', 't2g_true', 'total_true'],\n        palette=[\"white\", \"orange\"],\n        domain=[-2,4]\n    )\n    # Style negative values\n# table = table.tab_style(\n#             style = GT.style.text(color = '#8b1a1a', weight = 'bold'),\n#             locations = GT.loc.body(\n#                 columns = ['putt_true', 'arg_true', 'app_true', 'ott_true', 't2g_true', 'total_true'] ,\n#                 rows =  dg_top20['total_true'] &lt; 0\n#     )\n#   )\n#   # Style non-negative values\n#   table = table.tab_style(\n#     style = gt.style.text(color = '#2E8B57', weight = 'bold'),\n#     locations = gt.loc.body(\n#         columns = ['putt_true', 'arg_true', 'app_true', 'ott_true', 't2g_true', 'total_true'],\n#         rows =  dg_top20['total_true'] &gt;= 0\n#         )\n#   )\ntable = table.tab_options(\n        heading_title_font_size = '30px',\n        heading_subtitle_font_size= '16px',\n        heading_background_color=\"black\",\n        table_background_color = \"white\"\n        #,container_width='1100px'\n        #,table_width = '600px'\n    )\n\n# display table\ntable\n\n\n\n\n\n\n\n\nScottie Scheffler's Dominance\n\n\nEvaluating 2024 performance among top professional golfers using Data Golf's true strokes-gained and expected wins (xWins) metrics. Data as of June 9, 2024.\n\n\n\n\nRank\nCountry\nPlayer\nTour\nWins\nxWins\nStrokes Gained\n\n\nPutt SG\nATG SG\nApp SG\nOTT SG\nTTG SG\nTotal SG\n\n\n\n\n1\n\nScottie Scheffler\nPGA\n🏆🏆🏆🏆🏆\n4.1\n0.22\n0.63\n1.66\n1.04\n3.33\n3.44\n\n\n2\n\nXander Schauffele\nPGA\n🏆\n2.2\n0.75\n0.40\n0.93\n0.85\n2.18\n2.76\n\n\n3\n\nRory McIlroy\nPGA\n🏆🏆🏆\n1.4\n0.40\n0.20\n0.66\n1.01\n1.87\n2.23\n\n\n4\n\nLudvig Aberg\nPGA\n\n0.5\n0.45\n0.03\n0.77\n0.72\n1.51\n1.98\n\n\n5\n\nCollin Morikawa\nPGA\n\n1.0\n0.17\n0.47\n0.59\n0.67\n1.74\n1.91\n\n\n6\n\nLouis Oosthuizen\nLIV\n🏆🏆\n0.3\n0.00\n0.00\n0.00\n0.00\n0.00\n1.85\n\n\n7\n\nJoaquin Niemann\nLIV\n🏆🏆🏆\n0.6\n−0.45\n0.40\n1.19\n0.54\n2.13\n1.81\n\n\n8\n\nBryson DeChambeau\nLIV\n\n0.0\n0.80\n0.38\n0.88\n1.71\n2.97\n1.76\n\n\n9\n\nJon Rahm\nLIV\n\n0.0\n−0.60\n0.54\n0.22\n0.02\n0.78\n1.66\n\n\n10\n\nHideki Matsuyama\nPGA\n🏆\n1.3\n−0.12\n0.76\n0.63\n0.36\n1.75\n1.55\n\n\n11\n\nJustin Thomas\nPGA\n\n0.2\n−0.33\n0.54\n0.91\n0.37\n1.81\n1.54\n\n\n12\n\nSahith Theegala\nPGA\n\n0.5\n0.56\n−0.14\n0.59\n0.62\n1.07\n1.54\n\n\n13\n\nChristiaan Bezuidenhout\nPGA\n\n0.5\n0.78\n0.23\n0.62\n−0.04\n0.80\n1.51\n\n\n14\n\nAlex Noren\nPGA\n\n0.0\n0.29\n0.41\n0.42\n0.28\n1.11\n1.42\n\n\n15\n\nTommy Fleetwood\nPGA\n🏆\n0.2\n0.30\n0.48\n0.26\n0.36\n1.10\n1.42\n\n\n16\n\nRussell Henley\nPGA\n\n0.1\n0.42\n0.39\n0.50\n0.16\n1.05\n1.41\n\n\n17\n\nWyndham Clark\nPGA\n🏆\n2.0\n0.28\n0.10\n0.42\n0.68\n1.21\n1.41\n\n\n18\n\nSam Burns\nPGA\n\n0.4\n0.36\n0.10\n0.32\n0.44\n0.87\n1.40\n\n\n19\n\nDean Burmester\nLIV\n🏆🏆🏆\n0.3\n0.01\n0.72\n1.30\n0.52\n2.54\n1.37\n\n\n20\n\nByeong Hun An\nPGA\n\n0.7\n0.06\n0.11\n0.51\n0.66\n1.28\n1.32\n\n\n\nStrokes-Gained (SG) is a measure of a player's performance relative to the field average. Putt: Putting, ATG: Around the Green, App: Approach, OTT: Off-the-Tee, TTG: Tee-to-Green\n\n\nSource: Data Golf | Table: Stephan Teodosescu (@steodosescu)"
  }
]